# Template file for 'gstreamer-vaapi'
pkgname=gstreamer-vaapi
version=1.18.2
revision=1
build_style=meson
hostmakedepends="pkg-config"
makedepends="libXrandr-devel libva-devel MesaLib-devel gst-plugins-bad1-devel"
checkdepends="$makedepends"
short_desc="VA-API plugins for GStreamer 1.x"
maintainer="Orphaned <orphan@voidlinux.org>"
license="LGPL-2.1-or-later"
homepage="https://gstreamer.freedesktop.org"
changelog="https://raw.githubusercontent.com/GStreamer/gstreamer-vaapi/master/ChangeLog"
distfiles="${homepage}/src/gstreamer-vaapi/gstreamer-vaapi-${version}.tar.xz"
checksum=8c7b2c74fda095d83dea67accde6a68ba9f608d97ed969fdcf278930f9b1c7c0

pre_check() {
	# Seems to need certain hardware to pass
	vsed -i '/vaapipostproc/d' tests/check/meson.build
}
