# Template file for 'libwmf'
pkgname=libwmf
version=0.2.12
revision=1
build_style=gnu-configure
configure_args="--with-freetype=${XBPS_CROSS_BASE}/usr
 --with-gsfontdir=/usr/share/fonts/Type1
 --with-fontdir=/usr/share/fonts/Type1 --disable-static
 --with-gsfontmap=/usr/share/ghostscript/8.15/lib/Fontmap.GS
 --with-expat=${XBPS_CROSS_BASE}/usr/include"
hostmakedepends="pkg-config gsfonts"
makedepends="zlib-devel freetype-devel libjpeg-turbo-devel libpng-devel
 expat-devel glib-devel gtk+-devel gd-devel gsfonts"
depends="gsfonts"
short_desc="Library for reading and converting WMF (Windows Meta Files)"
maintainer="Nathan <ndowens@artixlinux.org>"
license="LGPL-2.0-or-later"
homepage="https://github.com/caolanm/libwmf"
distfiles="https://github.com/caolanm/libwmf/archive/v${version}.tar.gz"
checksum=464ff63605d7eaf61a4a12dbd420f7a41a4d854675d8caf37729f5bc744820e2

post_install() {
	rm -rf ${DESTDIR}/usr/share/fonts
}

libwmf-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/bin/libwmf-config
		vmove "usr/lib/*.so"
		vmove usr/lib/pkgconfig
	}
}
